{"version":3,"file":"index.esm.js","sources":["../../../../node_modules/@babel/runtime/regenerator/index.js","../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/createClass.js","../../../../node_modules/@babel/runtime/helpers/defineProperty.js","../src/client.ts"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import { GraphQLClient } from 'graphql-request';\n\nimport {\n  Client,\n  GQLRequestOptions,\n  GQLRequestVariables,\n  Response,\n} from './types';\n\nexport interface ClientImplOptions {\n  endpoint: string;\n  timeout?: number; // milliseconds\n}\n\nexport class ClientImpl implements Client {\n  private readonly graphQLClient: GraphQLClient;\n\n  constructor(options: ClientImplOptions) {\n    this.graphQLClient = new GraphQLClient(options.endpoint, {\n      timeout: options.timeout,\n    });\n  }\n\n  async gqlRequest<D = unknown, V = GQLRequestVariables>(\n    options: GQLRequestOptions<V>\n  ): Promise<Response<D>> {\n    this.graphQLClient.setHeaders(options.headers || undefined);\n    try {\n      const data = await this.graphQLClient.request(\n        options.document,\n        options.variables\n      );\n      return {\n        data: data as D,\n      };\n    } catch (error) {\n      const status: number | undefined =\n        error.response && error.response.status\n          ? error.response.status\n          : undefined;\n      return {\n        error,\n        status,\n      };\n    }\n  }\n}\n"],"names":["module","require","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","ClientImpl","options","graphQLClient","GraphQLClient","endpoint","timeout","setHeaders","headers","request","document","variables","data","status","response"],"mappings":"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"}