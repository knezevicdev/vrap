version: '3'
services:
  build:
    build:
      context: ../../../
      dockerfile: ./libs/ui/docker/Dockerfile
    image: vroom-web-ui:latest
    user: 'root'
    command: ash -c "yarn workspace @vroom-web/ui build"
    ports:
      - '8080:8080'
    volumes:
      # Setup volume so that source code edits are reflected outside the container.
      - '../../../:/www/'
      # Setup volumes for dependencies and built artifacts.
      - '/www/node_modules'
      - '/www/libs/ui/node_modules'
