static-assets_deploy:
  docker:
  - image: vroom/mlp:3.0.2
  parameters:
    s3BucketUrl:
      type: string
  steps:
    - checkout
    - run:
        command: |-
          aws s3 sync ./static-assets << parameters.s3BucketUrl >> --acl public-read --exclude '*.webp' --exclude '*.mp4'
          aws s3 sync ./static-assets << parameters.s3BucketUrl >> --acl public-read --exclude '*' --include '*.webp' --content-type 'image/webp'
          aws s3 sync ./static-assets << parameters.s3BucketUrl >> --acl public-read --exclude '*' --include '*.mp4' --content-type 'video/mp4'
